<!DOCTYPE html>
<html>
<head>
    <title></title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="jquery.mobile-1.4.5/jquery.mobile-1.4.5.min.css" />
    <link rel="stylesheet" href="css/style.css" />

</head>
<body>

<section data-role="page" id="page1">

     <header data-role="header">
        <h1>REBP</h1>
    </header>  

    <article role="main" class="ui-content">
		<button id="get_location">Get location</button>
		<form id="myForm">
			<div data-role="fieldcontain">
	            <label for="name">Name</label>
	            <input type="text" name="name" id="name">
			</div>
			<div data-role="fieldcontain">
	            <label for="description">Description</label>
	            <input type="text" name="description" id="description">
			</div>
			<div data-role="fieldcontain">
	            <label for="lat">Latitude</label>
	            <input type="text" name="lat" id="lat">
			</div>
			<div data-role="fieldcontain">
	            <label for="long">Longitude</label>
	            <input type="text" name="long" id="long">
			</div>
			<input data-role="submit" type="submit" value="Send location">
		</form>		
    </article>    

</section>

<section data-role="page" id="page2">

     <header data-role="header">
        <h1>REBP</h1>
        <a href="#" class="ui-btn-left ui-btn ui-btn-inline ui-btn-icon-notext ui-mini ui-corner-all ui-icon-back" data-rel="back"></a>
    </header>   

    <article role="main" class="ui-content">
		<h3>Place added!</h3>	
    </article>    

</section>


    <script src="js/jquery-2.1.4.min.js" type="text/javascript"></script>
    <script src="jquery.mobile-1.4.5/jquery.mobile-1.4.5.min.js" type="text/javascript"></script>
	<script>
		document.getElementById('get_location').addEventListener('click', function() {
			navigator.geolocation.getCurrentPosition(getPosition, showError, {
				enableHighAccuracy: true
			});
			return false;
		});

		function getPosition(pos) {
			var lat 	= pos.coords.latitude,
				long	= pos.coords.longitude,
				acc 	= pos.coords.accuracy,
				coords	= lat + ',' + long;

				//alert(coords);
				document.getElementById("lat").setAttribute("value", lat );
				document.getElementById("long").setAttribute("value", long );

		}

		function showError(e) {
			if (e.code === 1) {
				alert("Unable to get location");
			}
		}

	</script>    
    <script src="js/script.js" type="text/javascript"></script>
</body>
</html>
